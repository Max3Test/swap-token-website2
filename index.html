<!DOCTYPE html>
<html lang="en">
<head>
  <!-- –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ viewport –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>StMAX Swap</title>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –∫–æ—à–µ–ª—å–∫–æ–≤ –∏ Web3 -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
  <script src="https://unpkg.com/web3modal"></script>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —à—Ä–∏—Ñ—Ç Orbitron + —Å—Ç–∏–ª–∏ -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">

  <style>
    /*
      –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –≤—Å–µ–≥–æ —Å–∞–π—Ç–∞:
      - –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω
      - Flex-–≤–µ—Ä—Å—Ç–∫–∞ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
      - –¶–µ–Ω—Ç—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
      - –í—ã—Å–æ—Ç–∞ —ç–∫—Ä–∞–Ω–∞ 100%
      - –ù—É–ª–µ–≤—ã–µ –æ—Ç—Å—Ç—É–ø—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    */
    body {
      font-family: 'Orbitron', sans-serif;
      background: linear-gradient(to right, #1c1c1c, #2c2c2c);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      position: relative;
    }

    /*
      –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (–∫–Ω–æ–ø–∫–∏ Stake / Unstake) –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —Å –æ—Ç—Å—Ç—É–ø–æ–º 40px
      –î–µ–ª–∞–µ–º –∏—Ö –Ω–µ–±–æ–ª—å—à–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ —Å–æ —Å—Ç–∏–ª–µ–º, –∫–∞–∫ –±—ã–ª–æ –ø—Ä–µ–∂–¥–µ
    */
    .left-panel {
      position: absolute;
      top: 40px;
      left: 40px;
      display: flex;
      gap: 10px;
    }
    .left-panel button {
      background: linear-gradient(to right, #00ffff, #007bff);
      border: none;
      color: white;
      padding: 10px 16px;
      font-size: 14px;
      border-radius: 10px;
      cursor: pointer;
    }
    /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ */
    .left-panel button.active {
      background: #00ffff;
      color: #000;
    }

    /*
      –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (–∫–Ω–æ–ø–∫–∏ Connect Wallet –∏ Switch Network) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
      —Ç–æ–∂–µ –æ—Ç—Å—Ç—É–ø 40px
    */
    .right-panel {
      position: absolute;
      top: 40px;
      right: 40px;
      display: flex;
      gap: 10px;
    }
    .right-panel button {
      background: linear-gradient(to right, #00ffff, #007bff);
      border: none;
      color: white;
      padding: 10px 16px;
      font-size: 14px;
      border-radius: 10px;
      cursor: pointer;
    }
    .right-panel button:hover {
      background: linear-gradient(to right, #007bff, #00ffff);
    }

    /*
      –ù–∞–¥–ø–∏—Å—å "Cross Chain Meme Proof Of Farm" –Ω–∞–¥ –æ–∫–Ω–æ–º —Å–≤–∞–ø–∞
      –î–µ–ª–∞–µ–º –µ—ë –∫—Ä—É–ø–Ω–µ–µ, –Ω–æ –Ω–µ –ª–æ–º–∞–µ–º –æ–±—â–∏–π –≤–∏–¥
    */
    .big-title {
      font-size: 1.8em; /* –ú–æ–∂–Ω–æ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Å–µ–±—è */
      font-weight: bold;
      color: #00ffff;
      text-shadow: 0 0 10px #00ffff;
      margin-top: 80px;
      margin-bottom: 30px;
      text-align: center;
    }

    /*
      –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏),
      –≤–∏–∑—É–∞–ª –Ω–µ –º–µ–Ω—è–µ–º, —Ç.–∫. –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∏–ª—å
    */
    .container {
      background: rgba(0, 0, 0, 0.6);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 0 20px #00ffff88;
      text-align: center;
      max-width: 400px;
      width: 90%;
    }

    /*
      –ü–æ–ª–µ –≤–≤–æ–¥–∞ —á–∏—Å–ª–∞ (Stake / Unstake)
      –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã,
      –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å—Ç—Ä–µ–ª–æ—á–∫–∏
    */
    input[type="number"] {
      width: 100%;
      padding: 12px;
      margin-bottom: 20px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      text-align: center;
    }

    /*
      –ö–Ω–æ–ø–∫–∏ (Connect Wallet, Stake, Unstake) –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
      –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É, –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω
    */
    button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      background: linear-gradient(to right, #00ffff, #007bff);
      border: none;
      border-radius: 10px;
      color: white;
      cursor: pointer;
      margin-bottom: 10px;
    }
    button:hover {
      background: linear-gradient(to right, #007bff, #00ffff);
    }

    /*
      –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    */
    h1 {
      margin-bottom: 30px;
    }

    /*
      –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
      - –£–º–µ–Ω—å—à–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø–æ–ª—è, —à—Ä–∏—Ñ—Ç—ã
      - –ù–µ –ª–æ–º–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∏–¥ –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
    */
    @media (max-width: 600px) {
      .big-title {
        font-size: 1.5em;
        margin-top: 60px;
      }
      .container {
        padding: 20px;
        max-width: 340px;
      }
      h1 {
        font-size: 18px;
        margin-bottom: 20px;
      }
      input[type="number"] {
        font-size: 14px;
        padding: 10px;
      }
      button {
        font-size: 14px;
        padding: 10px;
      }
    }

    /*
      –ö–ª–∞—Å—Å—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –≤ wallet-app
      (Trust, Metamask mobile –∏ —Ç.–¥.)
      –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø–æ–¥ safepal, coinbase –∏ —Ç.–ø.
    */
    body.wallet-trust .container,
    body.wallet-metamaskmobile .container {
      max-width: 350px;
    }
  </style>
</head>
<body>
  <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: –∫–Ω–æ–ø–∫–∏ Stake / Unstake -->
  <div class="left-panel">
    <button class="active" onclick="showTab('stake')">Stake</button>
    <button onclick="showTab('unstake')">Unstake</button>
  </div>

  <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: Connect Wallet –∏ Switch Network -->
  <div class="right-panel">
    <button id="connectBtn" onclick="connectWallet()">üîó Connect Wallet</button>
    <button onclick="switchNetwork('0x2105')">Switch Network</button>
  </div>

  <!-- –ù–∞–¥–ø–∏—Å—å –Ω–∞–¥ –æ–∫–Ω–æ–º —Å–≤–∞–ø–∞ -->
  <div class="big-title">Cross Chain Meme Proof Of Farm</div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–æ–∫–Ω–æ —Å–≤–∞–ø–∞) -->
  <div class="container">
    <h1>StMAX Wrapper</h1>

    <!-- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è (–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ) -->
    <hr style="margin: 20px 0;">

    <!-- –ë–ª–æ–∫ –¥–ª—è Stake -->
    <div id="stakeBlock">
      <h3>Stake MAX ‚Üí StMAX</h3>
      <input type="number" id="stakeAmount" placeholder="Amount to stake" />
      <button onclick="stakeTokens()">Stake</button>
    </div>

    <!-- –ë–ª–æ–∫ –¥–ª—è Unstake -->
    <div id="unstakeBlock">
      <h3>Unstake StMAX ‚Üí MAX</h3>
      <input type="number" id="unstakeAmount" placeholder="Amount to unstake" />
      <button onclick="unstakeTokens()">Unstake</button>
    </div>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script>
    /*
      –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ Stake / Unstake.
      –ú–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –±–ª–æ–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.
    */
    function showTab(tab) {
      const stakeBlock = document.getElementById('stakeBlock');
      const unstakeBlock = document.getElementById('unstakeBlock');

      if (tab === 'stake') {
        stakeBlock.style.display = 'block';
        unstakeBlock.style.display = 'none';
      } else {
        stakeBlock.style.display = 'none';
        unstakeBlock.style.display = 'block';
      }

      // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É (–≤—ã–¥–µ–ª—è–µ–º –Ω—É–∂–Ω—É—é)
      const leftPanelButtons = document.querySelectorAll('.left-panel button');
      leftPanelButtons.forEach(btn => btn.classList.remove('active'));
      if (tab === 'stake') {
        leftPanelButtons[0].classList.add('active');
      } else {
        leftPanelButtons[1].classList.add('active');
      }
    }

    /*
      –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–µ—Ç–∏ (Base), –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.
      –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –≤ script.js
      —Å—É—â–µ—Å—Ç–≤—É–µ—Ç switchNetwork(chainIdHex).
    */
    async function switchNetwork(chainIdHex) {
      if (!window.ethereum) {
        return alert("No wallet found.");
      }
      try {
        await window.ethereum.request({
          method: "wallet_switchEthereumChain",
          params: [{ chainId: chainIdHex }]
        });
        alert("‚úÖ Network switched!");
      } catch (err) {
        console.error("Failed to switch network:", err);
        alert("‚ùå Switch network failed.");
      }
    }

    /*
      –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ wallet-app –ø–æ userAgent.
      –ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏–º 'trust' –∏–ª–∏ 'metamask' –≤ ua, 
      –¥–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∫ body (wallet-trust –∏–ª–∏ wallet-metamaskmobile).
      –¢–∞–∫ –º–æ–∂–Ω–æ —á—É—Ç—å –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥ –∫–æ—à–µ–ª—ë–∫.
    */
    function detectWalletApp() {
      const ua = navigator.userAgent.toLowerCase();
      if (ua.includes('trust')) {
        document.body.classList.add('wallet-trust');
      } else if (ua.includes('metamask')) {
        document.body.classList.add('wallet-metamaskmobile');
      }
    }

    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.addEventListener('DOMContentLoaded', () => {
      detectWalletApp();
      // –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∫–ª–∞–¥–∫—É 'stake' (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
      showTab('stake');
    });
  </script>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –≤–∞—à script.js, –≥–¥–µ –µ—Å—Ç—å connectWallet(), stakeTokens(), unstakeTokens() –∏ —Ç.–¥. -->
  <script src="script.js"></script>
</body>
</html>
